# ClaudeLocalMCP.ts
è‡ªå·±ç‚º Claude å¯«æœ¬åœ°ç«¯ MCP Server å¾ˆç°¡å–®ï¼Œæœ‰æ‰‹å°±è¡ŒğŸ˜
å®Œæ•´æµç¨‹ Demo çš„ gif åœ–æª”  
![MCPé–‹å•Ÿåœ–ç¤º](./images/DemoMCP.gif)

# ç°¡ä»‹ MCP Server
MCP Server å°±åƒã€ŒAI çš„ USB æ’æ§½ã€ï¼Œè®“ AI èƒ½å®‰å…¨åœ°é€£æ¥å¤–éƒ¨è³‡æ–™æˆ–å·¥å…·ã€‚  
èˆ‰ä¾‹ï¼šAI æƒ³æŸ¥é›»è…¦æª”æ¡ˆæˆ–æŸ¥è©¢è‚¡ç¥¨åƒ¹æ ¼ï¼ŒMCP Server å°±è² è²¬å¹« AI å–å¾—é€™äº›è³‡æ–™æˆ–åŸ·è¡Œæ“ä½œã€‚  
## AI æœ‰äº† MCPï¼ˆæ¨¡å‹ä¸Šä¸‹æ–‡å”å®šï¼‰å¾Œï¼Œå°‡ç”¢ç”Ÿä»¥ä¸‹é‡å¤§å½±éŸ¿ï¼š
- AI ä¸å†åªæ˜¯ã€Œå»ºè­°è€…ã€ï¼Œè€Œèƒ½ä¸»å‹•åŸ·è¡Œä»»å‹™ã€‚ä¾‹å¦‚ï¼ŒAI ä¸åƒ…èƒ½å‘Šè¨´ä½ æ€éº¼æŸ¥è³‡æ–™ï¼Œé‚„èƒ½ç›´æ¥å¹«ä½ æŸ¥è©¢è³‡æ–™åº«ã€æ•´ç†å ±è¡¨ã€ç™¼é€éƒµä»¶ï¼Œç”šè‡³æ§åˆ¶æ™ºæ…§å®¶é›»  
- AI å¯å³æ™‚å­˜å–å¤–éƒ¨è³‡æ–™èˆ‡å·¥å…·ï¼Œçªç ´åªèƒ½ä¾è³´è¨“ç·´çŸ¥è­˜çš„é™åˆ¶ï¼Œèƒ½æ ¹æ“šæœ€æ–°æ•¸æ“šåšå‡ºå›æ‡‰ï¼Œå¦‚å³æ™‚å¤©æ°£ã€æœ€æ–°è²¡ç¶“è³‡è¨Šç­‰  
- AI å›ç­”æ›´ç²¾ç¢ºï¼Œèƒ½æ¸›å°‘ã€Œå¹»è¦ºã€å•é¡Œï¼Œå› ç‚ºå¯ç›´æ¥æŸ¥è­‰å¤–éƒ¨è³‡æ–™ä¾†æº  
- é–‹ç™¼è€…åªéœ€ä¸€æ¬¡æ•´åˆ MCPï¼ŒAI å°±èƒ½é€£æ¥å¤šç¨®å·¥å…·å’Œè³‡æ–™ï¼Œé–‹ç™¼æ•ˆç‡å¤§å¹…æå‡  
- ç”¨æˆ¶è³‡æ–™å®‰å…¨æ€§æå‡ï¼Œå› ç‚ºå­˜å–æ¬Šé™å¯ç´°ç·»æ§ç®¡ï¼Œä¸”å¤šæ•¸æ“ä½œåœ¨æœ¬åœ°ç«¯åŸ·è¡Œ  
ç¸½çµï¼šMCP è®“ AI å¾åªèƒ½ã€Œèªªã€é€²åŒ–åˆ°èƒ½ã€Œåšã€ï¼Œå¤§å¹…æ“´å±•æ‡‰ç”¨ç¯„åœèˆ‡åƒ¹å€¼ï¼Œæ¨å‹• AI é€²å…¥çœŸæ­£çš„æ™ºèƒ½ä»£ç†ï¼ˆAI Agentï¼‰æ™‚ä»£  

## Weather MCP Server
é€™æ˜¯ç”¨ä¾†çµ¦ Claude æŸ¥è©¢æŒ‡å®šåœ°å€çš„å¤©æ°£è³‡è¨Š

### ç”³è«‹å¤©æ°£ API æœå‹™
æˆ‘å»ç”³è«‹ https://openweathermap.org/ çš„å…è²»æœå‹™
è«‹å»è¨»å†Šä¸¦å–å¾— API é‡‘é‘° (API Key)

### åœ¨ .env å¡«å…¥é‡‘é‘°
```shell
OPENWEATHERMAP_API_KEY=ä½ çš„å¯¦éš›APIé‡‘é‘°è²¼åœ¨é€™è£¡
```
è¨˜å¾—åœ¨ dist å…§æ”¾ä¸Š .env æª”æ¡ˆä¾†æä¾› APIé‡‘é‘°

### å®‰è£ Claude æ¡Œé¢ç‰ˆ
https://claude.ai/download

### é–‹å•Ÿ Claude é–‹ç™¼æ¨¡å¼
å³ä¸Šè§’ File => Settings
é–‹å•Ÿ Developer æ¨¡å¼

### è¨­å®š MCP Server çµ¦ Claude ä½¿ç”¨
Windows ç”¨æˆ¶è«‹  
é–‹å•Ÿç›®éŒ„ `C:\Users\ä½¿ç”¨è€…åç¨±\AppData\Roaming\Claude`  
æª”æ¡ˆåç¨± `claude_desktop_config.json`
```json
{
    "mcpServers": {
        "weather": {
            "command": "node",
            "args": [
                "D:\\github\\ClaudeLocalMCP.ts\\dist\\index.js",
                "envPath=D:\\github\\ClaudeLocalMCP.ts\\.env"
            ]
        }
    }
}
```
envPath æ˜¯æŒ‡å®š .env çš„è·¯å¾‘

ç¢ºèªä¸€ä¸‹ MCP æ˜¯å¦æ­£å¸¸é–‹å•Ÿ  
![MCPé–‹å•Ÿåœ–ç¤º](./images/ClaudeMCP01.png)
æª¢è¦–ä¸€ä¸‹ MCP åç¨±  
![MCPé–‹å•Ÿåœ–ç¤º](./images/ClaudeMCP02.png)
è©¢å•æ™‚è¦æŒ‡å®šåœ°å€ï¼Œå¦‚: å°ä¸­å¤©æ°£å¦‚ä½•?  
Claude æœƒè¦ä½ ç¢ºèª(Allow for this chat)æ˜¯å¦å¯ä»¥åŸ·è¡Œ MCP æœå‹™
![MCPé–‹å•Ÿåœ–ç¤º](./images/ClaudeMCP03.png)

### æŸ¥è©¢ MCP Server åŸ·è¡Œ log
Windows ç”¨æˆ¶è«‹  
é–‹å•Ÿç›®éŒ„ `C:\Users\ä½¿ç”¨è€…åç¨±\AppData\Roaming\Claude\logs`  